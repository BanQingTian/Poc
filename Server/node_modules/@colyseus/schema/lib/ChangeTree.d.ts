import { Schema } from "./Schema";
import { ArraySchema } from "./types/ArraySchema";
import { MapSchema } from "./types/MapSchema";
declare type FieldKey = string | number;
export declare class ChangeTree {
    fieldIndexes: {
        [field: string]: number;
    };
    changed: boolean;
    changes: Set<string | number>;
    allChanges: Set<string | number>;
    /**
     * `MapSchema` / `ArraySchema`
     */
    indexMap: Map<any, FieldKey>;
    indexChange: Map<any, FieldKey>;
    deletedKeys: any;
    /**
     * parent link & field name
     */
    parent: ChangeTree;
    parentField: FieldKey;
    constructor(indexes?: {
        [field: string]: number;
    }, parentField?: FieldKey, parent?: ChangeTree);
    change(fieldName: FieldKey, isDelete?: boolean): void;
    mapIndex(instance: any, key: FieldKey): void;
    getIndex(instance: any): string | number;
    deleteIndex(instance: any): void;
    isDeleted(key: any): boolean;
    mapIndexChange(instance: any, previousKey: FieldKey): void;
    getIndexChange(instance: any): string | number;
    deleteIndexChange(instance: any): void;
    changeAll(obj: Schema | ArraySchema | MapSchema): void;
    discard(): void;
}
export {};
